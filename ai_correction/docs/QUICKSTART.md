# AI批改系统 - 5分钟快速入门

> 最快速度开始使用AI批改系统

## 🚀 3步开始

### 步骤1: 安装 (1分钟)

```bash
# 1. 安装依赖
pip install -r requirements.txt

# 2. 配置API密钥
# 编辑 .env.local 文件
OPENAI_API_KEY=sk-your-api-key-here

# 3. 初始化数据库
python local_runner.py
```

### 步骤2: 启动 (30秒)

```bash
# Windows用户
start_local.bat

# 或手动启动
streamlit run main.py
```

浏览器自动打开 http://localhost:8501

### 步骤3: 批改 (2分钟)

1. **上传文件**
   - 题目文件 📄
   - 答案文件 📝
   - 评分标准 ✅ (可选)

2. **选择模式**
   - 高效模式: 快速批改
   - 专业模式: 详细反馈

3. **开始批改**
   - 点击"开始批改"
   - 等待进度完成
   - 查看结果 🎉

---

## 📝 第一次批改示例

### 准备测试数据

系统自带示例数据:

```
test_data/
├── 三角形题目.txt
├── 学生答案_三角形.txt
└── 三角形评分标准.txt
```

### 操作流程

1. **上传题目**: 选择 `test_data/三角形题目.txt`
2. **上传答案**: 选择 `test_data/学生答案_三角形.txt`
3. **上传标准**: 选择 `test_data/三角形评分标准.txt`
4. **选择模式**: 专业模式
5. **点击**: "开始批改"

### 预期结果

批改完成后会显示:

```
✅ 批改完成!

学生信息:
- 姓名: 张三
- 学号: 20210001

总分: 85/100
等级: A

各题得分:
Q1: 18/20 (优秀)
Q2: 32/40 (良好)
Q3: 35/40 (优秀)

个人评价:
优势:
- 解题思路清晰
- 公式运用正确

劣势:
- 第2题计算错误
- 第3题单位漏写

建议:
- 加强运算准确性
- 养成检查习惯
```

---

## 🎯 核心功能速查

### 批改模式对比

| 对比项 | 高效模式 | 专业模式 |
|--------|---------|---------|
| 速度 | ⚡⚡⚡ | ⚡⚡ |
| 详细度 | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| Token消耗 | 500/题 | 1500/题 |
| 适用场景 | 大规模批改 | 小班精细批改 |

**选择建议**:
- 50+份作业 → 高效模式
- <30份作业 → 专业模式

### 支持的文件格式

- ✅ 文本: .txt
- ✅ 图片: .jpg, .png
- ✅ 文档: .pdf
- ⚠️ 手写: 需高质量扫描

### 自动识别功能

系统会自动提取:
- 📝 学生姓名
- 🔢 学号
- 📚 班级
- 📋 作业编号

---

## ⚙️ 常用配置

### 提升批改速度

```bash
# .env.local
MAX_PARALLEL_WORKERS=8  # 增加并行数
DEFAULT_MODE=efficient   # 使用高效模式
```

### 降低Token消耗

```bash
# .env.local
DEFAULT_MODE=efficient              # 节省66% Token
EFFICIENT_MODE_THRESHOLD=8000       # 增大批次
```

### 调整日志级别

```bash
# .env.local
LOG_LEVEL=INFO    # 正常日志
# LOG_LEVEL=DEBUG # 详细调试
```

---

## 🔧 常见问题

### Q: 如何获取OpenAI API Key?

**A**: 
1. 访问 https://platform.openai.com
2. 注册/登录账号
3. 进入 API Keys 页面
4. 创建新密钥

### Q: 系统需要什么配置?

**A**:
- 最低: 4GB内存, 双核CPU
- 推荐: 8GB内存, 四核CPU
- Python 3.9+

### Q: 批改需要多久?

**A**:
- 高效模式: 2秒/题
- 专业模式: 5秒/题
- 30题作业: 约1-2分钟

### Q: Token消耗是多少?

**A**:
- 高效模式: ~500 tokens/题
- 专业模式: ~1500 tokens/题
- 30题作业: 15,000-45,000 tokens

### Q: 准确率如何?

**A**:
- 客观题: 90%+
- 主观题: 80%+
- 综合: 85%+

### Q: 数据安全吗?

**A**:
- ✅ 本地数据库存储
- ✅ 不上传至第三方
- ✅ OpenAI API隐私保护

---

## 📖 下一步

### 基础使用

- 📘 [完整使用指南](./USER_GUIDE.md) - 详细功能说明
- 📗 [系统架构](./SYSTEM_ARCHITECTURE.md) - 技术架构
- 📙 [API文档](./API_REFERENCE.md) - 开发接口

### 高级功能

- 🔧 [环境配置](./ENVIRONMENT_VARIABLES.md) - 详细配置说明
- 🚀 [部署指南](./DEPLOYMENT_GUIDE.md) - 生产部署
- 🐛 [故障排除](./TROUBLESHOOTING.md) - 问题解决

### 本地运行

- 📄 [本地运行指南](../LOCAL_SETUP.md) - 本地开发环境

---

## 💡 使用技巧

### 提高识别准确率

1. **文件质量**
   - 使用≥300dpi扫描
   - 确保文字清晰
   - 避免倾斜模糊

2. **学生信息**
   - 在卷首标注姓名学号
   - 格式: "姓名: 张三  学号: 20210001"

3. **评分标准**
   - 提供详细的扣分规则
   - 明确各题分值
   - 包含常见错误示例

### 优化批改效果

1. **选择合适模式**
   - 日常作业 → 高效模式
   - 重点学生 → 专业模式

2. **合理组织文件**
   - 按班级分组
   - 统一命名规范
   - 分批次批改

3. **定期质量检查**
   - 抽查批改结果
   - 对比人工批改
   - 调整配置参数

---

## 🎓 示例场景

### 场景1: 期中考试批改

**需求**: 3个班级,150份试卷,每份30题

**配置**:
```bash
DEFAULT_MODE=efficient
MAX_PARALLEL_WORKERS=8
```

**预估**:
- 时间: 约15分钟
- Token: 约225万
- 成本: 约$4.5 (GPT-4)

### 场景2: 重点学生辅导

**需求**: 5名学生,专项练习,每人10题

**配置**:
```bash
DEFAULT_MODE=professional
MAX_PARALLEL_WORKERS=2
```

**预估**:
- 时间: 约5分钟
- Token: 约7.5万
- 成本: 约$0.15

### 场景3: 日常作业批改

**需求**: 1个班级,40份作业,每份15题

**配置**:
```bash
DEFAULT_MODE=efficient
MAX_PARALLEL_WORKERS=4
```

**预估**:
- 时间: 约8分钟
- Token: 约30万
- 成本: 约$0.6

---

## ✅ 检查清单

### 首次使用前

- [ ] Python 3.9+ 已安装
- [ ] 依赖包已安装 (`pip install -r requirements.txt`)
- [ ] OpenAI API Key 已配置
- [ ] 数据库已初始化 (`python local_runner.py`)
- [ ] 系统启动成功 (`streamlit run main.py`)

### 每次批改前

- [ ] 文件已准备(题目/答案/标准)
- [ ] 文件格式正确(.txt/.pdf/.jpg)
- [ ] 学生信息清晰可读
- [ ] 批改模式已选择
- [ ] 网络连接正常

### 批改完成后

- [ ] 结果已查看
- [ ] 分数已确认
- [ ] 异常情况已处理
- [ ] 数据已备份(可选)

---

## 🎉 开始你的第一次批改吧!

按照本指南操作,5分钟内完成首次批改。

遇到问题? 查看 [故障排除指南](./TROUBLESHOOTING.md)

需要帮助? 提交 [GitHub Issue](https://github.com/aiguru/ai_correction/issues)

**祝使用愉快! 🚀**
