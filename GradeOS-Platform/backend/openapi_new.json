{"openapi":"3.1.0","info":{"title":"AI 批改系统 API","description":"生产级纯视觉 AI 批改系统的 RESTful API","version":"1.0.0"},"paths":{"/api/auth/login":{"post":{"tags":["GradeOS统一API","认证"],"summary":"Login","description":"用户登录","operationId":"login_api_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/user/info":{"get":{"tags":["GradeOS统一API","认证"],"summary":"Get User Info","description":"获取用户信息","operationId":"get_user_info_api_user_info_get","parameters":[{"name":"user_id","in":"query","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/class/my":{"get":{"tags":["GradeOS统一API","班级管理"],"summary":"Get My Classes","description":"获取学生加入的班级","operationId":"get_my_classes_api_class_my_get","parameters":[{"name":"student_id","in":"query","required":true,"schema":{"type":"string","title":"Student Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ClassResponse"},"title":"Response Get My Classes Api Class My Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/class/join":{"post":{"tags":["GradeOS统一API","班级管理"],"summary":"Join Class","description":"学生加入班级","operationId":"join_class_api_class_join_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JoinClassRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/teacher/classes":{"get":{"tags":["GradeOS统一API","班级管理"],"summary":"Get Teacher Classes","description":"获取教师的班级列表","operationId":"get_teacher_classes_api_teacher_classes_get","parameters":[{"name":"teacher_id","in":"query","required":true,"schema":{"type":"string","title":"Teacher Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ClassResponse"},"title":"Response Get Teacher Classes Api Teacher Classes Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["GradeOS统一API","班级管理"],"summary":"Create Class","description":"创建班级","operationId":"create_class_api_teacher_classes_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClassCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClassResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/class/students":{"get":{"tags":["GradeOS统一API","班级管理"],"summary":"Get Class Students","description":"获取班级学生列表","operationId":"get_class_students_api_class_students_get","parameters":[{"name":"class_id","in":"query","required":true,"schema":{"type":"string","title":"Class Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/homework/list":{"get":{"tags":["GradeOS统一API","作业管理"],"summary":"Get Homework List","description":"获取作业列表","operationId":"get_homework_list_api_homework_list_get","parameters":[{"name":"class_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Class Id"}},{"name":"student_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Student Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/HomeworkResponse"},"title":"Response Get Homework List Api Homework List Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/homework/detail/{homework_id}":{"get":{"tags":["GradeOS统一API","作业管理"],"summary":"Get Homework Detail","description":"获取作业详情","operationId":"get_homework_detail_api_homework_detail__homework_id__get","parameters":[{"name":"homework_id","in":"path","required":true,"schema":{"type":"string","title":"Homework Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HomeworkResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/homework/create":{"post":{"tags":["GradeOS统一API","作业管理"],"summary":"Create Homework","description":"创建作业","operationId":"create_homework_api_homework_create_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HomeworkCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HomeworkResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/homework/submit":{"post":{"tags":["GradeOS统一API","作业管理"],"summary":"Submit Homework","description":"提交作业（文本）","operationId":"submit_homework_api_homework_submit_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmissionCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmissionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/homework/submit-scan":{"post":{"tags":["GradeOS统一API","作业管理"],"summary":"Submit Scan Homework","description":"提交扫描作业（图片）\n\n接收 Base64 编码的图片列表，保存到本地存储，并触发 AI 批改","operationId":"submit_scan_homework_api_homework_submit_scan_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScanSubmissionCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmissionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/homework/submissions":{"get":{"tags":["GradeOS统一API","作业管理"],"summary":"Get Submissions","description":"获取作业提交列表","operationId":"get_submissions_api_homework_submissions_get","parameters":[{"name":"homework_id","in":"query","required":true,"schema":{"type":"string","title":"Homework Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SubmissionResponse"},"title":"Response Get Submissions Api Homework Submissions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/grading/import":{"post":{"tags":["GradeOS统一API","批改历史"],"summary":"Import Grading Results","description":"导入批改结果到班级","operationId":"import_grading_results_api_grading_import_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GradingImportRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__unified_api__GradingHistoryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/grading/history":{"get":{"tags":["GradeOS统一API","批改历史"],"summary":"Get Grading History","description":"获取批改历史列表","operationId":"get_grading_history_api_grading_history_get","parameters":[{"name":"class_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Class Id"}},{"name":"assignment_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Assignment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__unified_api__GradingHistoryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/grading/history/{import_id}":{"get":{"tags":["GradeOS统一API","批改历史"],"summary":"Get Grading History Detail","description":"获取批改历史详情","operationId":"get_grading_history_detail_api_grading_history__import_id__get","parameters":[{"name":"import_id","in":"path","required":true,"schema":{"type":"string","title":"Import Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GradingHistoryDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/grading/import/{import_id}/revoke":{"post":{"tags":["GradeOS统一API","批改历史"],"summary":"Revoke Grading Import","description":"撤回导入记录","operationId":"revoke_grading_import_api_grading_import__import_id__revoke_post","parameters":[{"name":"import_id","in":"path","required":true,"schema":{"type":"string","title":"Import Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GradingRevokeRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GradingImportRecord"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/submit-error":{"post":{"tags":["GradeOS统一API","错题分析"],"summary":"Analyze Error","description":"提交错题进行 AI 分析","operationId":"analyze_error_api_v1_analysis_submit_error_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/diagnosis/report/{student_id}":{"get":{"tags":["GradeOS统一API","错题分析"],"summary":"Get Diagnosis Report","description":"获取学生诊断报告","operationId":"get_diagnosis_report_api_v1_diagnosis_report__student_id__get","parameters":[{"name":"student_id","in":"path","required":true,"schema":{"type":"string","title":"Student Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DiagnosisReportResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/class/wrong-problems":{"get":{"tags":["GradeOS统一API","错题分析"],"summary":"Get Class Wrong Problems","description":"获取班级高频错题","operationId":"get_class_wrong_problems_api_v1_class_wrong_problems_get","parameters":[{"name":"class_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Class Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/teacher/statistics/class/{class_id}":{"get":{"tags":["GradeOS统一API","统计分析"],"summary":"Get Class Statistics","description":"获取班级统计数据","operationId":"get_class_statistics_api_teacher_statistics_class__class_id__get","parameters":[{"name":"class_id","in":"path","required":true,"schema":{"type":"string","title":"Class Id"}},{"name":"homework_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Homework Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/teacher/statistics/merge":{"post":{"tags":["GradeOS统一API","统计分析"],"summary":"Merge Statistics","description":"合并外部成绩数据","operationId":"merge_statistics_api_teacher_statistics_merge_post","parameters":[{"name":"class_id","in":"query","required":true,"schema":{"type":"string","title":"Class Id"}},{"name":"external_data","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"External Data"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/batch/submit":{"post":{"tags":["批量批改","批量提交"],"summary":"Submit Batch","operationId":"submit_batch_batch_submit_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_submit_batch_batch_submit_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchSubmissionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/batch/status/{batch_id}":{"get":{"tags":["批量批改","批量提交"],"summary":"Get Batch Status","description":"查询批次状态（从 LangGraph Orchestrator）\n\nArgs:\n    batch_id: 批次 ID\n    orchestrator: LangGraph Orchestrator\n    \nReturns:\n    BatchStatusResponse: 批次状态","operationId":"get_batch_status_batch_status__batch_id__get","parameters":[{"name":"batch_id","in":"path","required":true,"schema":{"type":"string","title":"Batch Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/batch/rubric/{batch_id}":{"get":{"tags":["批量批改","批量提交"],"summary":"Get Rubric Review Context","operationId":"get_rubric_review_context_batch_rubric__batch_id__get","parameters":[{"name":"batch_id","in":"path","required":true,"schema":{"type":"string","title":"Batch Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RubricReviewContextResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/batch/results-review/{batch_id}":{"get":{"tags":["批量批改","批量提交"],"summary":"Get Results Review Context","operationId":"get_results_review_context_batch_results_review__batch_id__get","parameters":[{"name":"batch_id","in":"path","required":true,"schema":{"type":"string","title":"Batch Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultsReviewContextResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/batch/results/{batch_id}":{"get":{"tags":["批量批改","批量提交"],"summary":"Get Batch Results","description":"获取批次批改结果（从 LangGraph Orchestrator）\n\nArgs:\n    batch_id: 批次 ID\n    orchestrator: LangGraph Orchestrator\n    \nReturns:\n    批改结果","operationId":"get_batch_results_batch_results__batch_id__get","parameters":[{"name":"batch_id","in":"path","required":true,"schema":{"type":"string","title":"Batch Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/batch/full-results/{batch_id}":{"get":{"tags":["批量批改","批量提交"],"summary":"Get Full Batch Results","description":"获取批次完整批改结果（包含跨页题目信息）\n\nArgs:\n    batch_id: 批次 ID\n    orchestrator: LangGraph Orchestrator\n    \nReturns:\n    完整批改结果（包含跨页题目信息）","operationId":"get_full_batch_results_batch_full_results__batch_id__get","parameters":[{"name":"batch_id","in":"path","required":true,"schema":{"type":"string","title":"Batch Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/batch/cross-page-questions/{batch_id}":{"get":{"tags":["批量批改","批量提交"],"summary":"Get Cross Page Questions","description":"获取跨页题目信息\n\nArgs:\n    batch_id: 批次 ID\n    orchestrator: LangGraph Orchestrator\n    \nReturns:\n    跨页题目信息列表","operationId":"get_cross_page_questions_batch_cross_page_questions__batch_id__get","parameters":[{"name":"batch_id","in":"path","required":true,"schema":{"type":"string","title":"Batch Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/batch/review/rubric":{"post":{"tags":["批量批改","批量提交"],"summary":"Submit Rubric Review","operationId":"submit_rubric_review_batch_review_rubric_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__batch_langgraph__RubricReviewRequest__2"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/batch/review/results":{"post":{"tags":["批量批改","批量提交"],"summary":"Submit Results Review","operationId":"submit_results_review_batch_review_results_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__batch_langgraph__ResultsReviewRequest__2"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/batch/confirm-boundary":{"post":{"tags":["批量批改","批量提交"],"summary":"Confirm Student Boundary","description":"确认学生边界\n\n当 AI 识别的学生边界不准确时，允许用户手动确认\n\nArgs:\n    request: 确认边界请求\n    orchestrator: LangGraph Orchestrator\n    \nReturns:\n    确认结果","operationId":"confirm_student_boundary_batch_confirm_boundary_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfirmBoundaryRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/class/{class_id}/homework/{homework_id}/submissions-for-grading":{"get":{"tags":["班级系统集成","班级系统集成"],"summary":"Get Submissions For Grading","description":"获取班级作业的所有学生提交（用于批改控制台）\n\n返回格式化的数据，可直接用于批改控制台的 Gallery 预填充。","operationId":"get_submissions_for_grading_api_class__class_id__homework__homework_id__submissions_for_grading_get","parameters":[{"name":"class_id","in":"path","required":true,"schema":{"type":"string","title":"Class Id"}},{"name":"homework_id","in":"path","required":true,"schema":{"type":"string","title":"Homework Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmissionsForGradingResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/grading/{batch_id}/import-to-class":{"post":{"tags":["班级系统集成","班级系统集成"],"summary":"Import Grading To Class","description":"导入批改结果到班级系统\n\n将批改结果与班级学生关联，并保存到 SQLite。","operationId":"import_grading_to_class_api_grading__batch_id__import_to_class_post","parameters":[{"name":"batch_id","in":"path","required":true,"schema":{"type":"string","title":"Batch Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportToClassRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportToClassResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/grading/{batch_id}/revoke":{"post":{"tags":["班级系统集成","班级系统集成"],"summary":"Revoke Grading Import","description":"撤回批改结果导入\n\n将指定班级的导入记录标记为已撤回。","operationId":"revoke_grading_import_api_grading__batch_id__revoke_post","parameters":[{"name":"batch_id","in":"path","required":true,"schema":{"type":"string","title":"Batch Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RevokeRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RevokeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/class/{class_id}/grading-history":{"get":{"tags":["班级系统集成","班级系统集成"],"summary":"Get Class Grading History","description":"获取班级批改历史","operationId":"get_class_grading_history_api_class__class_id__grading_history_get","parameters":[{"name":"class_id","in":"path","required":true,"schema":{"type":"string","title":"Class Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__class_integration__GradingHistoryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/homework/{homework_id}/grade":{"post":{"tags":["班级系统集成","班级系统集成"],"summary":"Grade Homework","description":"一键批改作业\n\n收集作业的提交记录，触发批改工作流。","operationId":"grade_homework_api_homework__homework_id__grade_post","parameters":[{"name":"homework_id","in":"path","required":true,"schema":{"type":"string","title":"Homework Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HomeworkGradeRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HomeworkGradeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"tags":["health"],"summary":"Health Check","description":"健康检查\n\n返回系统状态和部署模式信息","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/":{"get":{"tags":["root"],"summary":"Root","description":"根路径","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/submissions":{"get":{"tags":["submissions"],"summary":"List Submissions","description":"分页查询提交列表\n\n支持分页、排序和过滤功能。\n\n验证：需求 7.2","operationId":"list_submissions_api_v1_submissions_get","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"Page"}},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","default":20,"title":"Page Size"}},{"name":"sort_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sort By"}},{"name":"sort_order","in":"query","required":false,"schema":{"type":"string","default":"desc","title":"Sort Order"}},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"exam_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Exam Id"}},{"name":"student_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Student Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/submissions/{submission_id}/fields":{"get":{"tags":["submissions"],"summary":"Get Submission Fields","description":"字段选择查询\n\n仅返回指定的字段，减少数据传输。\n\nArgs:\n    submission_id: 提交 ID\n    fields: 逗号分隔的字段列表，例如 \"submission_id,status,total_score\"\n\n验证：需求 7.3","operationId":"get_submission_fields_api_v1_submissions__submission_id__fields_get","parameters":[{"name":"submission_id","in":"path","required":true,"schema":{"type":"string","title":"Submission Id"}},{"name":"fields","in":"query","required":true,"schema":{"type":"string","title":"Fields"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/slow-queries":{"get":{"tags":["admin"],"summary":"Get Slow Queries","description":"获取慢查询记录\n\n返回最近的慢查询记录，用于性能监控。\n\n验证：需求 7.4","operationId":"get_slow_queries_api_v1_admin_slow_queries_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"min_duration_ms","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Min Duration Ms"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/stats":{"get":{"tags":["admin"],"summary":"Get Api Stats","description":"获取 API 统计信息\n\n返回 API 服务的统计信息，包括查询数、慢查询数、WebSocket 连接数等。","operationId":"get_api_stats_api_v1_admin_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"BatchStatusResponse":{"properties":{"batch_id":{"type":"string","title":"Batch Id"},"exam_id":{"type":"string","title":"Exam Id"},"status":{"type":"string","title":"Status"},"total_students":{"type":"integer","title":"Total Students","description":"识别到的学生数","default":0},"completed_students":{"type":"integer","title":"Completed Students","description":"已完成批改的学生数","default":0},"unidentified_pages":{"type":"integer","title":"Unidentified Pages","description":"未识别学生的页数","default":0},"results":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Results","description":"批改结果"}},"type":"object","required":["batch_id","exam_id","status"],"title":"BatchStatusResponse","description":"批量状态查询响应"},"BatchSubmissionResponse":{"properties":{"batch_id":{"type":"string","title":"Batch Id","description":"批次 ID"},"status":{"$ref":"#/components/schemas/SubmissionStatus","description":"状态"},"total_pages":{"type":"integer","title":"Total Pages","description":"总页数"},"estimated_completion_time":{"type":"integer","title":"Estimated Completion Time","description":"预计完成时间（秒）"}},"type":"object","required":["batch_id","status","total_pages","estimated_completion_time"],"title":"BatchSubmissionResponse","description":"批量提交响应"},"Body_submit_batch_batch_submit_post":{"properties":{"exam_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Exam Id","description":"考试 ID"},"rubrics":{"items":{"type":"string","format":"binary"},"type":"array","title":"Rubrics","description":"评分标准 PDF（可选）","default":[]},"files":{"items":{"type":"string","format":"binary"},"type":"array","title":"Files","description":"学生作答 PDF"},"api_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Key","description":"Gemini API Key"},"auto_identify":{"type":"boolean","title":"Auto Identify","description":"是否自动识别学生身份","default":true},"student_boundaries":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Student Boundaries","description":"手动设置的学生边界 (JSON List of page indices)"},"expected_students":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Expected Students","description":"预期学生数量（强烈建议提供，用于更准确的分割）"},"class_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Class Id","description":"班级 ID（用于成绩写回）"},"homework_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Homework Id","description":"作业 ID（用于成绩写回）"},"student_mapping_json":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Student Mapping Json","description":"学生映射 JSON [{studentId, studentName, startIndex, endIndex}]"}},"type":"object","required":["files"],"title":"Body_submit_batch_batch_submit_post"},"ClassCreate":{"properties":{"name":{"type":"string","title":"Name"},"teacher_id":{"type":"string","title":"Teacher Id"}},"type":"object","required":["name","teacher_id"],"title":"ClassCreate"},"ClassResponse":{"properties":{"class_id":{"type":"string","title":"Class Id"},"class_name":{"type":"string","title":"Class Name"},"teacher_id":{"type":"string","title":"Teacher Id"},"invite_code":{"type":"string","title":"Invite Code"},"student_count":{"type":"integer","title":"Student Count"}},"type":"object","required":["class_id","class_name","teacher_id","invite_code","student_count"],"title":"ClassResponse"},"ConfirmBoundaryRequest":{"properties":{"batch_id":{"type":"string","title":"Batch Id","description":"批次 ID"},"student_key":{"type":"string","title":"Student Key","description":"学生标识"},"confirmed_pages":{"items":{"type":"integer"},"type":"array","title":"Confirmed Pages","description":"确认的页面索引列表"}},"type":"object","required":["batch_id","student_key","confirmed_pages"],"title":"ConfirmBoundaryRequest","description":"确认学生边界请求"},"DiagnosisReportResponse":{"properties":{"student_id":{"type":"string","title":"Student Id"},"report_period":{"type":"string","title":"Report Period"},"overall_assessment":{"additionalProperties":true,"type":"object","title":"Overall Assessment"},"progress_trend":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Progress Trend"},"knowledge_map":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Knowledge Map"},"error_patterns":{"additionalProperties":true,"type":"object","title":"Error Patterns"},"personalized_insights":{"items":{"type":"string"},"type":"array","title":"Personalized Insights"}},"type":"object","required":["student_id","report_period","overall_assessment","progress_trend","knowledge_map","error_patterns","personalized_insights"],"title":"DiagnosisReportResponse"},"ErrorAnalysisRequest":{"properties":{"subject":{"type":"string","title":"Subject"},"question":{"type":"string","title":"Question"},"student_answer":{"type":"string","title":"Student Answer"},"student_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Student Id"}},"type":"object","required":["subject","question","student_answer"],"title":"ErrorAnalysisRequest"},"ErrorAnalysisResponse":{"properties":{"analysis_id":{"type":"string","title":"Analysis Id"},"error_type":{"type":"string","title":"Error Type"},"error_severity":{"type":"string","title":"Error Severity"},"root_cause":{"type":"string","title":"Root Cause"},"knowledge_gaps":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Knowledge Gaps"},"detailed_analysis":{"additionalProperties":true,"type":"object","title":"Detailed Analysis"},"recommendations":{"additionalProperties":true,"type":"object","title":"Recommendations"}},"type":"object","required":["analysis_id","error_type","error_severity","root_cause","knowledge_gaps","detailed_analysis","recommendations"],"title":"ErrorAnalysisResponse"},"GradingHistoryDetailResponse":{"properties":{"record":{"$ref":"#/components/schemas/GradingImportRecord"},"items":{"items":{"$ref":"#/components/schemas/GradingImportItem"},"type":"array","title":"Items"}},"type":"object","required":["record","items"],"title":"GradingHistoryDetailResponse"},"GradingHistoryItem":{"properties":{"history_id":{"type":"string","title":"History Id"},"batch_id":{"type":"string","title":"Batch Id"},"class_ids":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Class Ids"},"status":{"type":"string","title":"Status"},"total_students":{"type":"integer","title":"Total Students"},"average_score":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Average Score"},"created_at":{"type":"string","title":"Created At"},"completed_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Completed At"}},"type":"object","required":["history_id","batch_id","class_ids","status","total_students","average_score","created_at","completed_at"],"title":"GradingHistoryItem","description":"批改历史项"},"GradingImportItem":{"properties":{"item_id":{"type":"string","title":"Item Id"},"import_id":{"type":"string","title":"Import Id"},"batch_id":{"type":"string","title":"Batch Id"},"class_id":{"type":"string","title":"Class Id"},"student_id":{"type":"string","title":"Student Id"},"student_name":{"type":"string","title":"Student Name"},"status":{"type":"string","title":"Status"},"created_at":{"type":"string","title":"Created At"},"revoked_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Revoked At"},"result":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Result"}},"type":"object","required":["item_id","import_id","batch_id","class_id","student_id","student_name","status","created_at"],"title":"GradingImportItem"},"GradingImportRecord":{"properties":{"import_id":{"type":"string","title":"Import Id"},"batch_id":{"type":"string","title":"Batch Id"},"class_id":{"type":"string","title":"Class Id"},"class_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Class Name"},"assignment_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Assignment Id"},"assignment_title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Assignment Title"},"student_count":{"type":"integer","title":"Student Count"},"status":{"type":"string","title":"Status"},"created_at":{"type":"string","title":"Created At"},"revoked_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Revoked At"}},"type":"object","required":["import_id","batch_id","class_id","student_count","status","created_at"],"title":"GradingImportRecord"},"GradingImportRequest":{"properties":{"batch_id":{"type":"string","title":"Batch Id"},"targets":{"items":{"$ref":"#/components/schemas/GradingImportTarget"},"type":"array","title":"Targets"}},"type":"object","required":["batch_id","targets"],"title":"GradingImportRequest"},"GradingImportTarget":{"properties":{"class_id":{"type":"string","title":"Class Id"},"student_ids":{"items":{"type":"string"},"type":"array","title":"Student Ids"},"assignment_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Assignment Id"}},"type":"object","required":["class_id","student_ids"],"title":"GradingImportTarget"},"GradingRevokeRequest":{"properties":{"reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reason"}},"type":"object","title":"GradingRevokeRequest"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HomeworkCreate":{"properties":{"class_id":{"type":"string","title":"Class Id"},"title":{"type":"string","title":"Title"},"description":{"type":"string","title":"Description"},"deadline":{"type":"string","title":"Deadline"},"allow_early_grading":{"type":"boolean","title":"Allow Early Grading","default":false}},"type":"object","required":["class_id","title","description","deadline"],"title":"HomeworkCreate"},"HomeworkGradeRequest":{"properties":{"submission_ids":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Submission Ids"}},"type":"object","title":"HomeworkGradeRequest","description":"作业批改请求"},"HomeworkGradeResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"batch_id":{"type":"string","title":"Batch Id"},"message":{"type":"string","title":"Message"}},"type":"object","required":["success","batch_id","message"],"title":"HomeworkGradeResponse","description":"作业批改响应"},"HomeworkResponse":{"properties":{"homework_id":{"type":"string","title":"Homework Id"},"class_id":{"type":"string","title":"Class Id"},"class_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Class Name"},"title":{"type":"string","title":"Title"},"description":{"type":"string","title":"Description"},"deadline":{"type":"string","title":"Deadline"},"allow_early_grading":{"type":"boolean","title":"Allow Early Grading","default":false},"created_at":{"type":"string","title":"Created At"}},"type":"object","required":["homework_id","class_id","class_name","title","description","deadline","created_at"],"title":"HomeworkResponse"},"ImportToClassRequest":{"properties":{"class_ids":{"items":{"type":"string"},"type":"array","title":"Class Ids"},"student_mapping":{"items":{"$ref":"#/components/schemas/StudentMapping"},"type":"array","title":"Student Mapping"}},"type":"object","required":["class_ids","student_mapping"],"title":"ImportToClassRequest","description":"导入到班级请求"},"ImportToClassResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"imported_count":{"type":"integer","title":"Imported Count"},"history_id":{"type":"string","title":"History Id"},"message":{"type":"string","title":"Message"}},"type":"object","required":["success","imported_count","history_id","message"],"title":"ImportToClassResponse","description":"导入到班级响应"},"JoinClassRequest":{"properties":{"code":{"type":"string","title":"Code"},"student_id":{"type":"string","title":"Student Id"}},"type":"object","required":["code","student_id"],"title":"JoinClassRequest"},"LoginRequest":{"properties":{"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"}},"type":"object","required":["username","password"],"title":"LoginRequest"},"ResultsReviewContextResponse":{"properties":{"batch_id":{"type":"string","title":"Batch Id"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"},"current_stage":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Current Stage"},"student_results":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Student Results","default":[]},"answer_images":{"items":{"type":"string"},"type":"array","title":"Answer Images","default":[]}},"type":"object","required":["batch_id"],"title":"ResultsReviewContextResponse","description":"前端 results review 上下文"},"RevokeRequest":{"properties":{"class_id":{"type":"string","title":"Class Id"},"reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reason"}},"type":"object","required":["class_id"],"title":"RevokeRequest","description":"撤回请求"},"RevokeResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"revoked_count":{"type":"integer","title":"Revoked Count"},"message":{"type":"string","title":"Message"}},"type":"object","required":["success","revoked_count","message"],"title":"RevokeResponse","description":"撤回响应"},"RubricReviewContextResponse":{"properties":{"batch_id":{"type":"string","title":"Batch Id"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"},"current_stage":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Current Stage"},"parsed_rubric":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Parsed Rubric"},"rubric_images":{"items":{"type":"string"},"type":"array","title":"Rubric Images","default":[]}},"type":"object","required":["batch_id"],"title":"RubricReviewContextResponse","description":"前端 rubric review 上下文"},"ScanSubmissionCreate":{"properties":{"homework_id":{"type":"string","title":"Homework Id"},"student_id":{"type":"string","title":"Student Id"},"student_name":{"type":"string","title":"Student Name"},"images":{"items":{"type":"string"},"type":"array","title":"Images"}},"type":"object","required":["homework_id","student_id","student_name","images"],"title":"ScanSubmissionCreate","description":"扫描提交请求"},"StudentMapping":{"properties":{"student_key":{"type":"string","title":"Student Key"},"student_id":{"type":"string","title":"Student Id"}},"type":"object","required":["student_key","student_id"],"title":"StudentMapping","description":"学生映射"},"StudentSubmissionInfo":{"properties":{"student_id":{"type":"string","title":"Student Id"},"student_name":{"type":"string","title":"Student Name"},"images":{"items":{"type":"string"},"type":"array","title":"Images"},"page_count":{"type":"integer","title":"Page Count"}},"type":"object","required":["student_id","student_name","images","page_count"],"title":"StudentSubmissionInfo","description":"学生提交信息（用于批改控制台）"},"SubmissionCreate":{"properties":{"homework_id":{"type":"string","title":"Homework Id"},"student_id":{"type":"string","title":"Student Id"},"student_name":{"type":"string","title":"Student Name"},"content":{"type":"string","title":"Content"}},"type":"object","required":["homework_id","student_id","student_name","content"],"title":"SubmissionCreate"},"SubmissionResponse":{"properties":{"submission_id":{"type":"string","title":"Submission Id"},"homework_id":{"type":"string","title":"Homework Id"},"student_id":{"type":"string","title":"Student Id"},"student_name":{"type":"string","title":"Student Name"},"submitted_at":{"type":"string","title":"Submitted At"},"status":{"type":"string","title":"Status"},"score":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Score"},"feedback":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Feedback"}},"type":"object","required":["submission_id","homework_id","student_id","student_name","submitted_at","status","score","feedback"],"title":"SubmissionResponse"},"SubmissionStatus":{"type":"string","enum":["UPLOADED","SEGMENTING","GRADING","REVIEWING","COMPLETED","REJECTED"],"title":"SubmissionStatus","description":"提交状态"},"SubmissionsForGradingResponse":{"properties":{"class_id":{"type":"string","title":"Class Id"},"class_name":{"type":"string","title":"Class Name"},"homework_id":{"type":"string","title":"Homework Id"},"homework_name":{"type":"string","title":"Homework Name"},"students":{"items":{"$ref":"#/components/schemas/StudentSubmissionInfo"},"type":"array","title":"Students"},"total_pages":{"type":"integer","title":"Total Pages"}},"type":"object","required":["class_id","class_name","homework_id","homework_name","students","total_pages"],"title":"SubmissionsForGradingResponse","description":"获取批改所需的提交数据响应"},"UserResponse":{"properties":{"user_id":{"type":"string","title":"User Id"},"username":{"type":"string","title":"Username"},"name":{"type":"string","title":"Name"},"user_type":{"type":"string","title":"User Type"},"class_ids":{"items":{"type":"string"},"type":"array","title":"Class Ids","default":[]}},"type":"object","required":["user_id","username","name","user_type"],"title":"UserResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"src__api__routes__batch_langgraph__ResultsReviewRequest":{"properties":{"batch_id":{"type":"string","title":"Batch Id","description":"批次 ID"},"action":{"type":"string","title":"Action","description":"approve/update/regrade"},"results":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Results","description":"修正后的结果"},"regrade_items":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Regrade Items","description":"需要重新批改的题目项"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes","description":"补充说明"}},"type":"object","required":["batch_id","action"],"title":"ResultsReviewRequest","description":"提交批改结果人工确认结果"},"src__api__routes__batch_langgraph__ResultsReviewRequest__2":{"properties":{"batch_id":{"type":"string","title":"Batch Id"},"action":{"type":"string","title":"Action"},"results":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Results"},"regrade_items":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Regrade Items"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["batch_id","action"],"title":"ResultsReviewRequest"},"src__api__routes__batch_langgraph__RubricReviewRequest":{"properties":{"batch_id":{"type":"string","title":"Batch Id","description":"批次 ID"},"action":{"type":"string","title":"Action","description":"approve/update/reparse"},"parsed_rubric":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Parsed Rubric","description":"修正后的评分标准"},"selected_question_ids":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Selected Question Ids","description":"仅重修正的问题 ID 列表"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes","description":"补充说明"}},"type":"object","required":["batch_id","action"],"title":"RubricReviewRequest","description":"提交评分标准人工确认结果"},"src__api__routes__batch_langgraph__RubricReviewRequest__2":{"properties":{"batch_id":{"type":"string","title":"Batch Id"},"action":{"type":"string","title":"Action"},"parsed_rubric":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Parsed Rubric"},"selected_question_ids":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Selected Question Ids"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["batch_id","action"],"title":"RubricReviewRequest"},"src__api__routes__class_integration__GradingHistoryResponse":{"properties":{"records":{"items":{"$ref":"#/components/schemas/GradingHistoryItem"},"type":"array","title":"Records"}},"type":"object","required":["records"],"title":"GradingHistoryResponse","description":"批改历史响应"},"src__api__routes__unified_api__GradingHistoryResponse":{"properties":{"records":{"items":{"$ref":"#/components/schemas/GradingImportRecord"},"type":"array","title":"Records"}},"type":"object","required":["records"],"title":"GradingHistoryResponse"}}}}