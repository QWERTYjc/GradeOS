# AI æ‰¹æ”¹ç³»ç»Ÿå¿«é€Ÿå¯åŠ¨æŒ‡å?

## ç¯å¢ƒé…ç½®

### 1. API Key é…ç½®

ç³»ç»Ÿå·²é…ç½?Gemini API Keyï¼Œå­˜å‚¨åœ¨ `.env` æ–‡ä»¶ä¸­ï¼š

```bash
LLM_API_KEY=AIzaSyD5D9_uYqcRgyivexpVq5iPvqL6uKD85QE
```

### 2. ä½¿ç”¨çš„æ¨¡å?

ç³»ç»Ÿä½¿ç”¨ä¸¤ä¸ª Gemini æ¨¡å‹ï¼?

- **Gemini 2.5 Flash Lite** (`gemini-2.5-flash-lite`)
  - ç”¨é€”ï¼šé¡µé¢å¸ƒå±€åˆ†æå’Œé¢˜ç›®åˆ†å‰?
  - ç‰¹ç‚¹ï¼šé«˜ååã€ä½æˆæœ¬ã€å¿«é€Ÿå“åº?
  - ä½ç½®ï¼š`src/services/layout_analysis.py`

- **Gemini 3.0 Pro Preview** (`gemini-3-pro-preview`)
  - ç”¨é€”ï¼šæ·±åº¦æ¨ç†æ‰¹æ”¹
  - ç‰¹ç‚¹ï¼šæœ€æ–°ä¸€ä»£æ¨ç†èƒ½åŠ›ã€æ›´å¼ºçš„ç†è§£åŠ›ã€æ›´é«˜å‡†ç¡®åº¦
  - ä½ç½®ï¼š`src/services/llm_reasoning.py`

## å¿«é€Ÿå¯åŠ?

### 1. å®‰è£…ä¾èµ–

```bash
# ä½¿ç”¨ uv å®‰è£…ä¾èµ–
uv sync
```

### 2. å¯åŠ¨åŸºç¡€è®¾æ–½

```bash
# å¯åŠ¨ PostgreSQLã€Redisã€Temporalã€MinIO
docker-compose up -d
```

### 3. è¿è¡Œæ•°æ®åº“è¿ç§?

```bash
# åˆ›å»ºæ•°æ®åº“è¡¨
alembic upgrade head
```

### 4. å¯åŠ¨æœåŠ¡

#### å¯åŠ¨ API æœåŠ¡

```bash
uvicorn src.api.main:app --reload --host 0.0.0.0 --port 8000
```

#### å¯åŠ¨ Temporal Workers

åœ¨ä¸åŒçš„ç»ˆç«¯çª—å£ä¸­ï¼š

```bash
# ç¼–æ’ Workerï¼ˆå¤„ç†å·¥ä½œæµç¼–æ’ï¼?
python -m src.workers.orchestration_worker

# è®¤çŸ¥ Workerï¼ˆå¤„ç?AI æ‰¹æ”¹ä»»åŠ¡ï¼?
python -m src.workers.cognitive_worker
```

## æµ‹è¯• API

### 1. å¥åº·æ£€æŸ?

```bash
curl http://localhost:8000/health
```

### 2. æäº¤è¯•å·æ‰¹æ”¹

```bash
curl -X POST http://localhost:8000/api/v1/submissions \
  -H "Content-Type: application/json" \
  -d '{
    "exam_id": "exam_001",
    "student_id": "student_001",
    "file_type": "image",
    "file_data": "<base64_encoded_image>"
  }'
```

### 3. æŸ¥è¯¢æ‰¹æ”¹çŠ¶æ€?

```bash
curl http://localhost:8000/api/v1/submissions/{submission_id}
```

### 4. è·å–æ‰¹æ”¹ç»“æœ

```bash
curl http://localhost:8000/api/v1/submissions/{submission_id}/results
```

## è¿è¡Œæµ‹è¯•

### è¿è¡Œæ‰€æœ‰æµ‹è¯?

```bash
pytest tests/ -v
```

### è¿è¡Œå•å…ƒæµ‹è¯•

```bash
pytest tests/unit/ -v
```

### è¿è¡Œå±æ€§æµ‹è¯?

```bash
pytest tests/property/ -v --hypothesis-show-statistics
```

### è¿è¡Œé›†æˆæµ‹è¯•

```bash
pytest tests/integration/ -v
```

### æŸ¥çœ‹æµ‹è¯•è¦†ç›–ç?

```bash
pytest tests/ --cov=src --cov-report=html
# åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ htmlcov/index.html
```

## ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”?
â”?  API Gateway   â”? FastAPI (ç«¯å£ 8000)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”?
         â”?
         â–?
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”?
â”?Temporal Clusterâ”? å·¥ä½œæµç¼–æ?
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”?
         â”?
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”?
    â–?        â–?
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”?â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”?
â”‚ç¼–æ’Workerâ”?â”‚è®¤çŸ¥Workerâ”?
â””â”€â”€â”€â”€â”€â”€â”€â”€â”?â””â”€â”€â”€â”€â”€â”€â”€â”€â”?
    â”?        â”?
    â”?        â–?
    â”?   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”?
    â”?   â”?LangGraph   â”? æ™ºèƒ½ä½“æ¨ç?
    â”?   â”?+ Gemini    â”?
    â”?   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”?
    â”?
    â–?
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”?
â”? PostgreSQL     â”? æ•°æ®æŒä¹…åŒ?
â”? + Redis        â”? ç¼“å­˜ + é™æµ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”?
```

## æ ¸å¿ƒåŠŸèƒ½

### 1. çº¯è§†è§‰æ‰¹æ”?

- æ— éœ€ OCRï¼Œç›´æ¥ä½¿ç”?VLM ç†è§£è¯•å·å›¾åƒ
- Gemini 2.5 Flash Lite è¿›è¡Œé¡µé¢åˆ†å‰²
- Gemini 2.5 Pro è¿›è¡Œæ·±åº¦æ¨ç†æ‰¹æ”¹

### 2. æ™ºèƒ½ä½“æ¨ç?

- LangGraph æ„å»ºçš„å¤šæ­¥æ¨ç†æµç¨?
- è§†è§‰æå– â†?è¯„åˆ†æ˜ å°„ â†?è‡ªæˆ‘åæ€?â†?æœ€ç»ˆåŒ–
- æ”¯æŒæœ€å¤?3 æ¬¡ä¿®æ­£å¾ªç?

### 3. æŒä¹…åŒ–æ‰§è¡?

- Temporal å·¥ä½œæµå¼•æ“ä¿è¯ä»»åŠ¡å¯é æ€?
- æ”¯æŒæ–­ç‚¹æ¢å¤å’Œé‡è¯?
- æ£€æŸ¥ç‚¹æŒä¹…åŒ–åˆ° PostgreSQL

### 4. äººå·¥å®¡æ ¸

- ä½ç½®ä¿¡åº¦ç»“æœè‡ªåŠ¨è§¦å‘äººå·¥å®¡æ ¸
- æ”¯æŒæ‰¹å‡†ã€è¦†ç›–ã€æ‹’ç»ä¸‰ç§æ“ä½?
- å·¥ä½œæµç­‰å¾…äººå·¥ä»‹å…¥æ—¶ä¸æ¶ˆè€—èµ„æº?

### 5. è¯­ä¹‰ç¼“å­˜

- ä½¿ç”¨æ„ŸçŸ¥å“ˆå¸Œè¯†åˆ«ç›¸ä¼¼é¢˜ç›®
- é«˜ç½®ä¿¡åº¦ç»“æœè‡ªåŠ¨ç¼“å­˜ 30 å¤?
- ç¼“å­˜å¤±è´¥ä¸å½±å“æ‰¹æ”¹æµç¨?

## ç›‘æ§å’Œè°ƒè¯?

### æŸ¥çœ‹ Temporal UI

```bash
# è®¿é—® Temporal Web UI
http://localhost:8233
```

### æŸ¥çœ‹æ—¥å¿—

```bash
# API æœåŠ¡æ—¥å¿—
tail -f logs/api.log

# Worker æ—¥å¿—
tail -f logs/worker.log
```

### Redis ç›‘æ§

```bash
# è¿æ¥ Redis CLI
redis-cli

# æŸ¥çœ‹ç¼“å­˜é”?
KEYS grade_cache:*

# æŸ¥çœ‹é™æµçŠ¶æ€?
KEYS rate_limit:*
```

## å¸¸è§é—®é¢˜

### Q: Gemini API è°ƒç”¨å¤±è´¥ï¼?

A: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. API Key æ˜¯å¦æ­£ç¡®é…ç½®åœ?`.env` æ–‡ä»¶ä¸?
2. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
3. API é…é¢æ˜¯å¦å……è¶³
4. æ¨¡å‹åç§°æ˜¯å¦æ­£ç¡®ï¼ˆ`gemini-2.5-flash-lite` å’?`gemini-2.5-pro`ï¼?

### Q: æ•°æ®åº“è¿æ¥å¤±è´¥ï¼Ÿ

A: ç¡®ä¿ PostgreSQL å®¹å™¨æ­£åœ¨è¿è¡Œï¼?
```bash
docker-compose ps
docker-compose logs postgres
```

### Q: Temporal Worker æ— æ³•è¿æ¥ï¼?

A: ç¡®ä¿ Temporal æœåŠ¡æ­£åœ¨è¿è¡Œï¼?
```bash
docker-compose ps temporal
docker-compose logs temporal
```

### Q: æµ‹è¯•å¤±è´¥ï¼?

A: è¿è¡Œæµ‹è¯•å‰ç¡®ä¿ï¼š
1. æ‰€æœ‰ä¾èµ–å·²å®‰è£…ï¼š`uv sync`
2. ç¯å¢ƒå˜é‡å·²é…ç½®ï¼š`.env` æ–‡ä»¶å­˜åœ¨
3. åŸºç¡€è®¾æ–½æœåŠ¡æ­£åœ¨è¿è¡Œï¼ˆå¦‚æœè¿è¡Œé›†æˆæµ‹è¯•ï¼‰

## ä¸‹ä¸€æ­?

1. **é…ç½®è¯„åˆ†ç»†åˆ™**ï¼šä½¿ç”?API ä¸ºæ¯é“é¢˜ç›®é…ç½®è¯„åˆ†æ ‡å‡?
2. **ä¸Šä¼ è¯•å·**ï¼šæäº¤è¯•å·å›¾åƒè¿›è¡Œæ‰¹æ”?
3. **ç›‘æ§æ€§èƒ½**ï¼šæŸ¥çœ?Temporal UI äº†è§£å·¥ä½œæµæ‰§è¡Œæƒ…å†?
4. **è°ƒæ•´å‚æ•°**ï¼šæ ¹æ®å®é™…æƒ…å†µè°ƒæ•´ç½®ä¿¡åº¦é˜ˆå€¼ã€ç¼“å­?TTL ç­‰å‚æ•?
5. **æ‰©å±•éƒ¨ç½²**ï¼šä½¿ç”?Kubernetes éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢?

## æŠ€æœ¯æ”¯æŒ?

- æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£ï¼š`DEPLOYMENT.md`
- æŸ¥çœ‹ API æ–‡æ¡£ï¼šhttp://localhost:8000/docs
- æŸ¥çœ‹è®¾è®¡æ–‡æ¡£ï¼š`.kiro/specs/ai-grading-agent/design.md`
