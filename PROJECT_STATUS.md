# GradeOS é¡¹ç›®è¿›åº¦æ–‡æ¡£

> **æœ€åæ›´æ–°**: 2026-01-23  
> **ç‰ˆæœ¬**: v0.1.0  
> **æ–‡æ¡£ç»´æŠ¤è€…**: AI Agent

---

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

GradeOS æ˜¯ä¸€ä¸ª**çº¯è§†è§‰ AI æ‰¹æ”¹å¹³å°**ï¼ŒåŸºäº FastAPIã€LangGraph å’Œ Next.js æ„å»ºã€‚ç³»ç»Ÿæ¥æ”¶è¯„åˆ†æ ‡å‡† PDF å’Œå­¦ç”Ÿç­”é¢˜å›¾åƒï¼Œé€šè¿‡å¤šæ™ºèƒ½ä½“å·¥ä½œæµè¿›è¡Œè‡ªåŠ¨æ‰¹æ”¹ï¼Œå¹¶é€šè¿‡ WebSocket å®æ—¶æ¨é€è¿›åº¦å’Œç»“æœã€‚

### æ ¸å¿ƒæŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯ | ç‰ˆæœ¬ |
|------|------|------|
| åç«¯æ¡†æ¶ | FastAPI | 0.124.4 |
| å·¥ä½œæµç¼–æ’ | LangGraph | 1.0.5 |
| AI æ ¸å¿ƒ | langchain-core | 1.2.2 |
| æ•°æ®åº“ | SQLite / PostgreSQL | å¯é€‰ |
| ç¼“å­˜ | Redis | 7.1.0 (ä¾èµ–å·²æ·»åŠ ) |
| å‰ç«¯ | Next.js | 16.x |
| éƒ¨ç½² | Railway | ç”Ÿäº§ç¯å¢ƒ |

---

## ğŸš€ éƒ¨ç½²çŠ¶æ€

### Railway éƒ¨ç½² (âš ï¸ éœ€è¦é…ç½®ç¯å¢ƒå˜é‡)

| é¡¹ç›® | çŠ¶æ€ | å¤‡æ³¨ |
|------|------|------|
| åç«¯æœåŠ¡ | âœ… Active | `gradeos-production.up.railway.app` |
| åç«¯é…ç½® | âš ï¸ å¾…é…ç½® | éœ€è¦è®¾ç½® LLM_API_KEY ç­‰ç¯å¢ƒå˜é‡ |
| å‰ç«¯æœåŠ¡ | â“ å¾…ç¡®è®¤ | éœ€è¦è®¾ç½® NEXT_PUBLIC_API_URL |
| å¥åº·æ£€æŸ¥ | âœ… 200 OK | `/api/health` |

**æœ€åéƒ¨ç½²æ—¶é—´**: 2026-01-23 21:39:43 (GMT+8)  
**æœ€åä»£ç ä¿®å¤**: 2026-01-23 22:13:00 (GMT+8)

### å¾…é…ç½®é¡¹ âš ï¸

#### åç«¯ç¯å¢ƒå˜é‡ï¼ˆå¿…éœ€ï¼‰
- `LLM_API_KEY`: OpenRouter API å¯†é’¥
- `LLM_DEFAULT_MODEL`: é»˜è®¤æ¨¡å‹ï¼ˆgoogle/gemini-3-flash-previewï¼‰
- `OFFLINE_MODE`: è®¾ç½®ä¸º trueï¼ˆå¯ç”¨ç¦»çº¿æ¨¡å¼ï¼‰

#### å‰ç«¯ç¯å¢ƒå˜é‡ï¼ˆå¿…éœ€ï¼‰
- `NEXT_PUBLIC_API_URL`: åç«¯æœåŠ¡åœ°å€

**é…ç½®æŒ‡å—**: å‚è§ [`RAILWAY_CONFIG_GUIDE.md`](file:///d:/project/GradeOS/RAILWAY_CONFIG_GUIDE.md)

### åŠŸèƒ½å¯ç”¨æ€§


æ ¹æ®æœ€æ–°éƒ¨ç½²æ—¥å¿—ï¼Œä»¥ä¸‹åŠŸèƒ½å·²å¯ç”¨ï¼š
- âœ… `grading`: AI æ‰¹æ”¹åŠŸèƒ½
- âœ… `persistence`: æ•°æ®æŒä¹…åŒ–
- âœ… `history`: å†å²è®°å½•
- âœ… `analytics`: æ•°æ®åˆ†æ
- âœ… `caching`: ç»“æœç¼“å­˜
- âŒ `websocket`: å°šæœªå¯ç”¨

---

## ğŸ“Š å¼€å‘è¿›åº¦

### å·²å®ŒæˆåŠŸèƒ½ âœ…

#### æ ¸å¿ƒæ‰¹æ”¹æµç¨‹
- [x] PDF æ–‡ä»¶æ¥æ”¶ä¸é¡µé¢æå–
- [x] å›¾åƒé¢„å¤„ç†ï¼ˆJPEG è½¬æ¢ã€è´¨é‡å‹ç¼©ï¼‰
- [x] å­¦ç”Ÿè¾¹ç•Œæ£€æµ‹ï¼ˆç´¢å¼•å±‚ï¼‰
- [x] è¯„åˆ†æ ‡å‡†è§£æï¼ˆRubricParserServiceï¼‰
- [x] å¤šæ™ºèƒ½ä½“æ‰¹æ”¹ç¼–æ’ï¼ˆLangGraph StateGraphï¼‰
- [x] æ‰¹é‡æ‰¹æ”¹æ”¯æŒï¼ˆbatch_size=1000, max_workers=5ï¼‰
- [x] ç»“æœå¯¼å‡ºå’ŒæŒä¹…åŒ–

#### API æ¥å£
- [x] `POST /api/batch/submit` - æäº¤æ‰¹æ”¹ä»»åŠ¡
- [x] `GET /api/batch/status/{batch_id}` - æŸ¥è¯¢çŠ¶æ€
- [x] `GET /api/batch/results/{batch_id}` - è·å–ç»“æœ
- [x] `GET /api/batch/rubric/{batch_id}` - è·å–è§£æçš„è¯„åˆ†æ ‡å‡†
- [x] `WS /api/batch/ws/{batch_id}` - WebSocket è¿›åº¦æµ

#### å‰ç«¯åŠŸèƒ½
- [x] æ‰¹æ”¹æ§åˆ¶å° UI
- [x] å·¥ä½œæµå¯è§†åŒ–ï¼ˆWorkflowGraphï¼‰
- [x] å®æ—¶è¿›åº¦æ›´æ–°
- [x] ç»“æœæŸ¥çœ‹é¡µé¢

### è¿›è¡Œä¸­ ğŸ”„

| åŠŸèƒ½ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| æ‰¹æ”¹ Agent LangChain 1.0 é‡æ„ | ğŸ”„ è§„åˆ’ä¸­ | éœ€è¦å°†æ‰¹æ”¹ Agent è¿ç§»åˆ° LangChain 1.0 |
| LangGraph å·¥ä½œæµä¼˜åŒ– | ğŸ”„ è§„åˆ’ä¸­ | æ”¹è¿›ç¼–æ’é€»è¾‘å’Œé”™è¯¯å¤„ç† |

### å¾…å¼€å‘ ğŸ“‹

#### åŸºç¡€è®¾æ–½é€‚é…
- [ ] **Redis é›†æˆä¼˜åŒ–**
  - å½“å‰çŠ¶æ€ï¼šä¾èµ–å·²æ·»åŠ ï¼ˆredis>=5.0.0ï¼‰
  - å¾…å®Œæˆï¼šç¼“å­˜ç­–ç•¥å®ç°ã€ä¼šè¯ç®¡ç†ã€åˆ†å¸ƒå¼é”
  
- [ ] **PostgreSQL å®Œæ•´é€‚é…**
  - å½“å‰çŠ¶æ€ï¼šä¾èµ–å·²æ·»åŠ ï¼ˆpsycopg>=3.1.0, asyncpg>=0.29.0ï¼‰
  - å¾…å®Œæˆï¼šRailway PostgreSQL æœåŠ¡é…ç½®ã€Alembic è¿ç§»è„šæœ¬éªŒè¯

#### LangChain/LangGraph é€‚é…
- [ ] **æ‰¹æ”¹ Agent LangChain 1.0 é‡æ„**
  - ç›®æ ‡ï¼šä½¿ç”¨ LangChain 1.0 é‡æ–°å®ç°æ‰¹æ”¹ Agent
  - å½“å‰ä¾èµ–ï¼šlangchain-core==1.2.2
  
- [ ] **LangGraph ç¼–æ’ä¼˜åŒ–**
  - ç›®æ ‡ï¼šä½¿ç”¨ LangGraph 1.0.5 ä¼˜åŒ–å·¥ä½œæµç¼–æ’
  - é‡ç‚¹ï¼šcheckpointer é›†æˆã€çŠ¶æ€æŒä¹…åŒ–

#### å…¶ä»–åŠŸèƒ½
- [ ] å›¾åƒé¢„å¤„ç†å¢å¼ºï¼ˆå»å™ªã€æ—‹è½¬æ ¡æ­£ï¼‰
- [ ] é€šçŸ¥ç³»ç»Ÿ
- [ ] å‰ç«¯è‡ªåŠ¨åŒ–æµ‹è¯•å¥—ä»¶

---

## ğŸ”§ ç¯å¢ƒé…ç½®

### å¿…éœ€ç¯å¢ƒå˜é‡

```bash
# LLM é…ç½®
LLM_API_KEY=<OpenRouter API Key>
LLM_DEFAULT_MODEL=google/gemini-3-flash-preview
LLM_BASE_URL=https://openrouter.ai/api/v1

# æ•°æ®åº“ (PostgreSQL)
DATABASE_URL=<PostgreSQL è¿æ¥å­—ç¬¦ä¸²>

# Redis (å¯é€‰)
REDIS_URL=<Redis è¿æ¥å­—ç¬¦ä¸²>
```

### æœ¬åœ°å¼€å‘

```bash
# åç«¯
cd GradeOS-Platform/backend
uv sync
uv run uvicorn src.api.main:app --host 0.0.0.0 --port 8001 --reload

# å‰ç«¯
cd GradeOS-Platform/frontend
npm install
npm run dev
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
GradeOS/
â”œâ”€â”€ GradeOS-Platform/
â”‚   â”œâ”€â”€ backend/
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ api/          # FastAPI è·¯ç”±å’Œ WebSocket
â”‚   â”‚   â”‚   â”œâ”€â”€ graphs/       # LangGraph å·¥ä½œæµå®šä¹‰
â”‚   â”‚   â”‚   â”œâ”€â”€ orchestration/# ç¼–æ’è¿è¡Œæ—¶
â”‚   â”‚   â”‚   â”œâ”€â”€ services/     # ä¸šåŠ¡æœåŠ¡å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ db/           # æ•°æ®åº“è®¿é—®å±‚
â”‚   â”‚   â”‚   â””â”€â”€ utils/        # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ docs/             # åç«¯æ–‡æ¡£
â”‚   â”‚   â”œâ”€â”€ tests/            # æµ‹è¯•å¥—ä»¶
â”‚   â”‚   â”œâ”€â”€ railway.toml      # Railway éƒ¨ç½²é…ç½®
â”‚   â”‚   â””â”€â”€ Dockerfile        # Docker é•œåƒå®šä¹‰
â”‚   â””â”€â”€ frontend/
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ app/          # Next.js App Router
â”‚       â”‚   â”œâ”€â”€ components/   # UI ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ services/     # API å®¢æˆ·ç«¯
â”‚       â”‚   â””â”€â”€ store/        # Zustand çŠ¶æ€ç®¡ç†
â”‚       â””â”€â”€ railway.toml      # å‰ç«¯ Railway é…ç½®
â””â”€â”€ README.md
```

---

## ğŸ“ å…³é”®æ–‡ä»¶ç´¢å¼•

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `backend/src/graphs/batch_grading.py` | LangGraph æ‰¹æ”¹å·¥ä½œæµä¸»æ–‡ä»¶ (5812è¡Œ) |
| `backend/src/api/main.py` | FastAPI åº”ç”¨å…¥å£ |
| `backend/src/services/rubric_parser.py` | è¯„åˆ†æ ‡å‡†è§£ææœåŠ¡ |
| `backend/railway.toml` | Railway åç«¯éƒ¨ç½²é…ç½® |
| `frontend/src/store/consoleStore.ts` | å‰ç«¯çŠ¶æ€ç®¡ç† |
| `frontend/src/components/console/WorkflowGraph.tsx` | å·¥ä½œæµå¯è§†åŒ–ç»„ä»¶ |

---

## ğŸ” å·²çŸ¥é—®é¢˜

1. **WebSocket æœªå¯ç”¨**: éƒ¨ç½²æ—¥å¿—æ˜¾ç¤º `websocket: False`ï¼Œéœ€è¦æ£€æŸ¥ Railway é…ç½®
2. **å‰ç«¯æ— è‡ªåŠ¨åŒ–æµ‹è¯•**: éœ€è¦æ·»åŠ æµ‹è¯•å¥—ä»¶

---

## ğŸ“… ç‰ˆæœ¬å†å²

| ç‰ˆæœ¬ | æ—¥æœŸ | å˜æ›´è¯´æ˜ |
|------|------|----------|
| v0.1.0 | 2026-01-23 | åˆå§‹ç‰ˆæœ¬ï¼ŒRailway éƒ¨ç½²æˆåŠŸ |

---

## ğŸ‘¥ Agent åä½œæŒ‡å—

### å¿«é€Ÿä¸Šæ‰‹

1. é˜…è¯»æœ¬æ–‡æ¡£äº†è§£é¡¹ç›®æ¦‚å†µ
2. æ£€æŸ¥ `README.md` è·å–å¼€å‘å‘½ä»¤
3. æŸ¥çœ‹ `backend/docs/` ç›®å½•è·å–è¯¦ç»†æŠ€æœ¯æ–‡æ¡£
4. è¿è¡Œ `make test` éªŒè¯å½“å‰ä»£ç çŠ¶æ€

### é‡è¦æé†’

- **æ—¶æ•ˆæ€§æ£€æŸ¥**: è¯·å¯¹æ¯”æœ¬æ–‡æ¡£çš„"æœ€åæ›´æ–°"æ—¥æœŸä¸å½“å‰æ—¥æœŸ
- **éƒ¨ç½²å¹³å°**: å½“å‰ä½¿ç”¨ **Railway** è¿›è¡Œéƒ¨ç½²
- **æ•°æ®åº“**: ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ PostgreSQLï¼Œæœ¬åœ°å¯ç”¨ SQLite
- **LLM è°ƒç”¨**: æ‰€æœ‰ LLM è°ƒç”¨é€šè¿‡ OpenRouter API è·¯ç”±

---

*æœ¬æ–‡æ¡£ç”± AI Agent è‡ªåŠ¨ç”Ÿæˆï¼Œå¦‚æœ‰æ›´æ–°è¯·åŒæ­¥ä¿®æ”¹ç‰ˆæœ¬å·å’Œæ—¥æœŸã€‚*
